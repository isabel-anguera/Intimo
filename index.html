<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <meta charset="utf-8" />
  </head>
  <body>

<!-- BACKGROUND BLUR EFFECT -->

  <div id = "blur"></div>

<!-- Heading -->

<div id = "landingPageSection">

    <div id = "heading">

          <div id = "recordMessage">
            <button id = "recordButton" onclick = "expand()">+ Deliver a Message </button>
            <p id = "recordingStatus"> Click to start recording</p>
            <div id = "recordButtonDiv"><button id = "startRecordButton" onclick = "startRecording()"><img src = "Assets/Imgs/record-symbol.png"></button></div>
            <!-- <button id = "pauseRecordButton"> ⎮⎮ </button> -->
          </div>

          <h1>Intimo</h1>

          <div id = "liveStreamControls">
            <button id = "startButton" onclick = "startAudio()"> Start Radio </button>
            <button id = "muteButton" onclick = "muteAudio()">Sound On</button>
            <button id = "unMuteButton" onclick = "unMuteAudio()"> <strike>Sound On</strike></button>
          </div>

    </div>


<!-- LIVESTREAM SOURCE -->

    <audio src = "https://streaming.radio.co/s9306bc0d0/listen" id = "player" autoplay preload></audio>


<!-- ZIPCODE INPUT -->

   <div id = "zipcodeSearchBox">
    <input id = "text-box" type='text' value="Enter a zipcode"></input>
    <button id = "submit">Go</button> 
  </div>


<!-- LOWER NAV BAR -->

  <div id = "lowerNavBar">
    <a href = "#ArchiveSection" style = "margin-right: 20%; margin-left: 2%">Archive</a>
    <a href = "About.html" style = "margin: 0 15%; ">About</a>
    <a href = "instructions.html" style = "margin-left:20%">Instructions</a>
  </div>


<!-- ARCHIVE -->
    
<div id = "ArchiveSection">  


      <div id = "archive">
        <div id="archive-file">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile1()">►</button>
          <button onclick = "pauseFile1()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/Anthony_1.mp3" id = "file1" preload>
        </div>

        <div id="archive-file">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile2()">►</button>
          <button onclick = "pauseFile2()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/Imagine_1.mp3" id = "file2" preload>
        </div>

        <div id="archive-file" style = "border: none;">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile3()">►</button>
          <button onclick = "pauseFile3()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/January_1.mp3" id = "file3" preload>
        </div>

        <div id="archive-file">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile4()">►</button>
          <button onclick = "pauseFile4()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/Madonna_1.mp3" id = "file4" preload>
        </div>

        <div id="archive-file">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile5()">►</button>
          <button onclick = "pauseFile5()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/nostalgic-tones.m4a" id = "file5" preload>
        </div>

        <div id="archive-file" style = "border: none;">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile6()">►</button>
          <button onclick = "pauseFile6()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/Sam_1.mp3" id = "file6" preload>
        </div>

        <div id="archive-file">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile7()">►</button>
          <button onclick = "pauseFile7()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/Steve_1.mp3" id = "file7" preload>
        </div>

        <div id="archive-file">
          <h4> Track Title </h4>
          <h5> -:22 </h5>
          <h5> 21218 </h5>
          <button onclick = "playFile8()">►</button>
          <button onclick = "pauseFile8()">⎮⎮</button>
          <hr id = "grid-id">
          <audio src = "Assets/Toast_1.mp3" id = "file8" preload>
        </div>
      </div>
    </div>

    <script>
       var canvas;

        // let input = document.getElementById("text-box");
        // var zipCode = document.getElementById("text-box").value;
        // console.log(zipCode);

        var url;

        var apiKey = "3f56d66bf44e9bbf90cbf9c5a0db23a5";
        // let zipCode = 21218;

        let weather;

        let xPos, xPos2, xPos3, xPos4, xPos5;
        let yPos, yPos2, yPos3, yPos4, yPos5;
        const orbSize = 1000;

        let h = 0;
        let s = 100;

    
        function setup() {

            var button = select('#submit');
            button.mousePressed(updateJSON);

            input = select('#text-box');
            console.log(input.value());

            canvas = createCanvas(windowWidth, windowHeight*2);
            canvas.position(0, 0);
            canvas.style('z-index', '-2');
            colorMode(HSB);
            noStroke();
  
            // loadJSON(url, gotData);

            xPos = random(0, windowWidth);
          yPos = random(0, windowHeight);

          xPos2 = random(0, windowWidth);
          yPos2 = random(0, windowHeight);

          xPos3 = random(0, windowWidth);
          yPos3 = random(0, windowHeight);

          xPos4 = random(0, windowWidth);
          yPos4 = random(0, windowHeight);

          xPos5 = random(0, windowWidth);
          yPos5 = random(0, windowHeight);


        }

        function gotData(data) {

            weather = data;
        }

        function windowResized() {
            resizeCanvas(windowWidth, windowHeight);
            console.log("resized");       
        }

        function updateJSON() {
            url = "https://crossorigin.me/http://api.openweathermap.org/data/2.5/weather?zip=" + input.value() +",us&appid=" + apiKey + "&units=metric"; 
            loadJSON(url, gotData);
            console.log(input);
        }


        function draw() {

    //ORBS           
            fill(h, s, 100);
            ellipse(xPos, yPos, orbSize, orbSize);

            fill(h+10, s, 100);
            ellipse(xPos2, yPos2, orbSize, orbSize);

            fill(h+20, s, 100);
            ellipse(xPos3, yPos3, orbSize, orbSize);

            fill(h-10, s, 100);
            ellipse(xPos4, yPos4, orbSize, orbSize);

            fill(h-20, s, 100);
            ellipse(xPos5, yPos5, orbSize, orbSize);

    //USING JSON DATA

            if(weather) { 

              let speed = weather.wind.speed;
                let temp = weather.main.temp;
                let humidity = weather.main.humidity;

    //TYING DATA TO HUE AND SATURATION

                h = map(temp, 10, 60, 0, 360);
                s = map(humidity, 100, 0, 30, 90);


    // IF MOVING OFF SCREEN

        // XPOS + YPOS +

              if(xPos >= windowWidth + orbSize/2) {
                xPos = -orbSize/2;
              }

              if(yPos >= windowHeight + orbSize/2) {
                yPos = -orbSize/2;
              }

        // XPOS - YPOS -

                if(xPos2 <= -orbSize/2) {
                    xPos2 = windowWidth + orbSize/2;
                }

                if(yPos2 <= -orbSize/2) {
                    yPos2 = windowHeight + orbSize/2;
                }

        // XPOS + YPOS -

                if( xPos3 >= windowWidth + orbSize/2) {
                    xPos3 = -orbSize/2;
                }

                if(yPos3 <= -orbSize/2) {
                    yPos3 = windowHeight + orbSize/2;
                }

        // XPOS - YPOS +

                if(xPos4 <= -orbSize/2) {
                    xPos4 = windowWidth + orbSize/2;
                }

                if(yPos4 >= windowHeight + orbSize/2) {
                    yPos4 = -orbSize/2;
                }

        // XPOS + YPOS +

                if(xPos5 >= windowWidth + orbSize/2) {
                    xPos5 = -orbSize/2;
                }

                if(yPos5 >= windowHeight + orbSize/2) {
                    yPos5 = -orbSize/2;
                }


            xPos += speed;
            yPos += speed;

            xPos2 -= speed;
            yPos2 -= speed;

            xPos3 += speed;
            yPos3 -= speed;

            xPos4 -= speed;
            yPos4 += speed;

            xPos5 += speed;
            yPos5 += speed;
          
        }

    }
    </script>




    <!-- <script src="js/sketch2.js"></script> -->
    <!-- <script src = "js/newBGSketch.js"></script> -->
    <script src = "js/landingJS.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.min.js"></script>
  </body>
</html>
